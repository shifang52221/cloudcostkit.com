---
import BaseLayout from "../layouts/BaseLayout.astro";
import { SITE } from "../config/site";

const title = `Contact | ${SITE.name}`;
const description = "Contact CloudCostKit.";
const [emailUser, emailDomain] = SITE.email.split("@");
---
<BaseLayout title={title} description={description} canonicalPath="/contact">
  <section class="card hero">
    <h1>Contact</h1>
    <p>Questions, feedback, or tool requests.</p>
  </section>

  <section class="card section prose">
    <p class="muted" style="margin:0">
      Email:{" "}
      <a id="contact-email" href="#" data-u={emailUser} data-d={emailDomain}>
        Reveal email
      </a>
    </p>
  </section>

  <script is:inline>
    {`
      (function () {
        var el = document.getElementById('contact-email');
        if (!el) return;
        var u = el.getAttribute('data-u') || '';
        var d = el.getAttribute('data-d') || '';
        if (!u || !d) return;
        var email = u + '@' + d;
        el.textContent = email;
        el.setAttribute('href', 'mailto:' + email);
        el.removeAttribute('data-u');
        el.removeAttribute('data-d');
      })();
    `}
  </script>
</BaseLayout>
