---
import GuideLayout from "../../layouts/GuideLayout.astro";

const title = "Request-based pricing explained (APIs, CDN, and messaging)";
const description =
  "A practical guide to request-based pricing: how to estimate requests/month, translate RPS to monthly volume, and avoid unit mistakes (per 10k vs per 1M). Includes validation steps.";
const faqs = [
  {
    q: "What services are usually request-priced?",
    a: "API gateways, CDNs, queues/pubsub, key management, and many managed APIs are billed per request (sometimes with multiple request classes).",
  },
  {
    q: "How do I estimate requests/month quickly?",
    a: "Use analytics/billing if available. Otherwise convert from RPS: requests/month ~ RPS x 2,592,000 (30-day month).",
  },
  {
    q: "Why do request bills spike?",
    a: "Retries, timeouts, bots, cache misses, and traffic amplification during incidents can multiply request volume. Validate with real logs and rate limiting.",
  },
];
---
<GuideLayout
  title={title}
  description={description}
  canonicalPath="/guides/request-based-pricing"
  lastUpdated="2026-02-07"
  faqs={faqs}
>
  <p class="muted">
    Request pricing looks small until volume grows. This page gives you a quick workflow to estimate requests/month,
    translate request units correctly, and sanity check the number before you trust it.
  </p>

  <h2>Request pricing quick model</h2>
  <ul>
    <li><strong>Requests/month</strong>: baseline volume from logs or metrics.</li>
    <li><strong>Price per unit</strong>: per 10k or per 1M depending on provider.</li>
    <li><strong>Retry factor</strong>: include retries and bot traffic multipliers.</li>
  </ul>


  <h2>1) Get or estimate requests/month</h2>
  <ul>
    <li><strong>Best</strong>: provider analytics, logs, or billing exports (measured request counts).</li>
    <li>
      <strong>Fallback</strong>: convert from RPS with{" "}
      <a href="/calculators/rps-to-monthly-requests-calculator/">RPS to Monthly Requests</a>.
    </li>
  </ul>

  <h2>2) Confirm request units (per 10k vs per 1M)</h2>
  <p>
    Pricing pages often quote "$ per 10k" or "$ per 1M". If you multiply by the wrong unit, the estimate can be off by
    100x.
  </p>

  <h2>3) Split by request class (when providers have tiers)</h2>
  <p>
    Many services have more than one request class (for example: cached vs uncached, read vs write, standard vs advanced).
    Do not blend them if prices differ materially.
  </p>
  <ul>
    <li>API: reads vs writes, auth-heavy endpoints, and retry-prone endpoints.</li>
    <li>CDN: cached hits vs origin requests (cache miss rate changes origin cost).</li>
    <li>Messaging: publishes vs deliveries (fan-out and retries multiply deliveries).</li>
  </ul>

  <h2>4) Estimate request cost</h2>
  <ul>
    <li>
      API requests: <a href="/calculators/api-request-cost-calculator/">API request cost calculator</a>
    </li>
    <li>
      CDN requests: <a href="/calculators/cdn-request-cost-calculator/">CDN request cost calculator</a>
    </li>
    <li>
      For CDNs, also model bandwidth with <a href="/calculators/cdn-bandwidth-cost-calculator/">CDN bandwidth cost</a>
    </li>
  </ul>

  <h2>Worked estimate template (copy/paste)</h2>
  <ul>
    <li>
      <strong>Requests/month</strong> = baseline + peak (include retries)
    </li>
    <li>
      <strong>Price unit</strong> = per 10k / 100k / 1M (write it down explicitly)
    </li>
    <li>
      <strong>Class split</strong> = cached vs uncached (or read vs write) if pricing differs
    </li>
    <li>
      <strong>Cost</strong> = sum(class_requests / unit x price_per_unit)
    </li>
  </ul>

  <h2>5) Validate (avoid surprise multipliers)</h2>
  <ul>
    <li>
      Identify retry loops and timeouts. These can multiply API request volume and add transfer.
    </li>
    <li>
      Separate human traffic from bots. WAF/bot protection costs can track request spikes.
    </li>
    <li>
      If you're behind a CDN, cache miss rate affects origin request volume even if CDN request counts stay high.
    </li>
  </ul>

  <h2>Common pitfalls</h2>
  <ul>
    <li>Using a single monthly average and ignoring peak windows (marketing events and incidents).</li>
    <li>Not splitting endpoints: a heavy endpoint can dominate requests and transfer.</li>
    <li>Forgetting internal traffic: service-to-service calls can be larger than user traffic.</li>
    <li>Assuming retries are rare (they often become "normal" under throttling or dependency issues).</li>
  </ul>

  <h2>Sources</h2>
  <ul>
    <li>
      <a href="https://cloud.google.com/run/pricing" target="_blank" rel="nofollow noopener">
        Example: request-based components in Cloud Run pricing
      </a>
    </li>
    <li>
      <a href="https://aws.amazon.com/api-gateway/pricing/" target="_blank" rel="nofollow noopener">
        Example: API Gateway request pricing
      </a>
    </li>
  </ul>

  <h2>Related reading</h2>
  <div class="btn-row">
    <a class="btn" href="/guides/cdn-costs/">CDN costs</a>
    <a class="btn" href="/guides/aws-api-gateway-pricing/">API Gateway pricing</a>
    <a class="btn" href="/guides/log-costs/">Log costs</a>
    <a class="btn" href="/guides/egress-costs/">Egress costs</a>
  </div>
</GuideLayout>
