---
import GuideLayout from "../../layouts/GuideLayout.astro";

const title = "Estimate ECR storage (GB-month) from images and retention";
const description =
  "How to estimate container registry storage cost: average image size, tag retention, and rebuild frequency. Includes a fast model, a better model, and common pitfalls.";
const faqs = [
  {
    q: "What is GB-month?",
    a: "GB-month is the average stored gigabytes over a month. If you store 1,000 GB for the full month, that is 1,000 GB-month.",
  },
  {
    q: "Why do registry costs grow over time?",
    a: "Because teams keep every tag forever and rebuild images frequently. Without retention policies, old images accumulate even if no one pulls them.",
  },
  {
    q: "Do multi-arch images increase storage?",
    a: "Often yes. If you store separate variants per architecture, total stored GB can be close to the sum of all variants you retain.",
  },
  {
    q: "How do I validate the estimate?",
    a: "Pick 1-3 representative repos, measure average image size and tag retention, then compare predicted GB-month against what your registry reports after applying the same retention window.",
  },
];
---
<GuideLayout
  title={title}
  description={description}
  canonicalPath="/guides/aws-ecr-estimate-storage-gb-month"
  lastUpdated="2026-01-22"
  faqs={faqs}
>
  <p class="muted">
    Registry storage cost is usually driven by how many images you keep and how large they are. You can get a good first
    estimate with a simple average model, then refine using rebuild frequency and retention.
  </p>

  <h2>Fast model (good enough for budgeting)</h2>
  <ul>
    <li>
      <strong>Stored GB-month ~ avg image size (GB) x images retained (count)</strong>
    </li>
    <li>Compute retained images per repo: tags kept x number of repos.</li>
    <li>Adjust for multi-arch images if you store separate variants per architecture.</li>
  </ul>

  <h2>Better model (with rebuilds)</h2>
  <ul>
    <li>If you push N new images/day and retain D days, retained images ~ N x D.</li>
    <li>Multiply by average image size to get stored GB.</li>
    <li>Sum across repos (not all repos behave the same).</li>
  </ul>

  <h2>Turn storage into cost</h2>
  <p>
    Use <a href="/calculators/aws-ecr-cost-calculator/">AWS ECR Cost Calculator</a> with your stored GB-month estimate and
    your effective $/GB-month.
  </p>

  <h2>Common pitfalls</h2>
  <ul>
    <li>Keeping every tag forever.</li>
    <li>Multiple environments duplicating images (prod, stage, dev) with independent retention.</li>
    <li>Rebuild frequency: CI pipelines can add many tags per day.</li>
    <li>Multi-arch duplication: separate variants add storage.</li>
  </ul>

  <h2>Related reading</h2>
  <div class="btn-row">
    <a class="btn" href="/guides/aws-ecr-pricing/">ECR pricing</a>
    <a class="btn" href="/guides/storage-costs/">Storage costs (general)</a>
    <a class="btn" href="/calculators/aws-ecr-cost-calculator/">ECR cost calculator</a>
  </div>
</GuideLayout>

