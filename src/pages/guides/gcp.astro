---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { SITE } from "../../config/site";
import AdSlot from "../../components/AdSlot.astro";
import { GUIDES } from "../../lib/guides.generated";
import { withTrailingSlash } from "../../lib/url";

const title = `GCP cost guides | ${SITE.name}`;
const description =
  "GCP cost estimation guides for storage, networking (egress/inter-zone), CDN, observability/logging, and core managed services.";
const slots = SITE.adsenseSlots;

const gcpGuides = GUIDES.filter((g) => g.category === "GCP")
  .slice()
  .sort((a, b) => a.title.localeCompare(b.title));
---
<BaseLayout title={title} description={description} canonicalPath="/guides/gcp">
  <section class="card hero">
    <h1>GCP cost guides</h1>
    <p>Practical models to estimate common GCP line items and avoid the biggest cost traps.</p>
    <div class="btn-row" style="margin-top:12px">
      <a class="btn" href="/guides/">All guides</a>
      <a class="btn" href="/calculators/">Calculators</a>
      <a class="btn" href="/guides/cloud-cost-estimation-checklist/">Estimation checklist</a>
      <a class="btn" href="/methodology/">Methodology</a>
    </div>
  </section>

  <section class="grid" style="margin-top:18px">
    <section class="card section prose col-6">
      <h2 style="margin-top:0">A simple GCP estimate</h2>
      <ol class="muted" style="margin:10px 0 0; padding-left:18px">
        <li>Start with requests/month and GB/month (egress + inter-zone).</li>
        <li>Add storage (GB-month) and lifecycle/retention rules.</li>
        <li>Add logs/metrics ingestion + retention + scan/query.</li>
        <li>Validate boundaries (internet vs internal) and unit conversions.</li>
      </ol>
      <div class="btn-row" style="margin-top:12px">
        <a class="btn" href="/calculators/networking/">Networking calculators</a>
        <a class="btn" href="/calculators/logging/">Logging calculators</a>
        <a class="btn" href="/calculators/storage/">Storage calculators</a>
      </div>
    </section>
    <section class="card section prose col-6">
      <h2 style="margin-top:0">Common traps</h2>
      <ul class="muted" style="margin:10px 0 0; padding-left:18px">
        <li>Under-modeling inter-zone and cross-region transfer.</li>
        <li>High-cardinality metrics labels creating “quietly growing” bills.</li>
        <li>Confusing CDN bandwidth with origin egress (cache fill).</li>
      </ul>
      <p class="muted" style="margin:12px 0 0">
        Use a baseline + peak scenario and validate against a real week before making commitments.
      </p>
    </section>
  </section>

  <section class="card section">
    <div class="muted" style="font-size:13px; margin-bottom:10px">
      {gcpGuides.length} GCP guides
    </div>
    <div class="grid">
      {gcpGuides.map((g) => (
        <a class="card2 tool col-6" href={withTrailingSlash(g.canonicalPath)}>
          <div class="tool-title">{g.title}</div>
          <div class="tool-desc">{g.description}</div>
        </a>
      ))}
    </div>
  </section>

  <section class="section">
    <AdSlot slot={slots.guidesMid} minHeight={280} />
  </section>
</BaseLayout>
