---
import GuideLayout from "../../layouts/GuideLayout.astro";

const title = "Artifact Registry pricing (GCP): storage + downloads + egress (practical estimate)";
const description =
  "A practical Artifact Registry cost model: stored GB-month baseline, download volume from CI/CD and cluster churn, and outbound transfer. Includes a workflow to estimate GB-month from retention and validate layer sharing and peak pull storms.";

const faqs = [
  {
    q: "What usually drives Artifact Registry cost?",
    a: "Storage (GB-month) is the baseline, but heavy CI/CD and cluster churn can make downloads and egress meaningful. Peak pull storms during deploys and scale-outs are the common surprise.",
  },
  {
    q: "How do I estimate quickly?",
    a: "Estimate stored GB-month from retention, then estimate download GB/month from pull volume and average artifact size. Split same-region vs cross-region/internet destinations for egress.",
  },
  {
    q: "How do I validate?",
    a: "Validate actual stored usage, validate retention policies, and sample download volume during peak build/deploy windows. Validate whether layer sharing reduces storage vs 'tags × size'.",
  },
  {
    q: "What is the most common mistake?",
    a: "Assuming storage equals tags × image size (layer sharing changes the math) and ignoring node churn and CI spikes that create short, expensive download peaks.",
  },
];
---
<GuideLayout
  title={title}
  description={description}
  canonicalPath="/guides/gcp-artifact-registry-pricing"
  lastUpdated="2026-01-27"
  faqs={faqs}
>
  <p>
    Registries are "store bits, move bits". A reliable estimate separates three drivers: <strong>storage (GB-month)</strong>,{" "}
    <strong>downloads (pull GB)</strong>, and <strong>egress</strong>. Most surprises come from retention drift and peak pull
    storms (CI spikes, autoscaling, node churn).
  </p>

  <h2>0) Define your scope (what you are counting)</h2>
  <ul>
    <li>
      <strong>Artifact types</strong>: containers vs language packages vs build artifacts (sizes and churn differ).
    </li>
    <li>
      <strong>Environments</strong>: prod/stage/dev repos (retention policies often drift by env).
    </li>
    <li>
      <strong>Regions</strong>: multi-region clusters and cross-region runners change egress patterns.
    </li>
  </ul>

  <h2>1) Storage (GB-month)</h2>
  <p>
    Build storage from retention. Start with "how much do we keep" rather than "how much do we push".
  </p>
  <p class="muted">
    Tool: <a href="/calculators/object-storage-cost-calculator/">Storage cost (GB-month)</a>.
  </p>
  <ul>
    <li>
      Estimate <strong>average stored GB</strong> across the month, not just today's size.
    </li>
    <li>
      For container images, layer sharing means storage is often less than "tags × size" (validate with actual usage).
    </li>
    <li>
      Keep separate lines for <strong>base images</strong> vs <strong>app images</strong> (churn differs).
    </li>
  </ul>

  <h2>2) Downloads (pull volume)</h2>
  <p>
    Downloads scale with CI/CD and autoscaling. A good first model is:
    <strong> deploys/day × pulls per deploy × avg artifact size</strong>, plus a peak line for incident windows and node churn.
  </p>
  <ul>
    <li>
      <strong>CI peaks</strong>: parallel builds and retries can create short pull storms.
    </li>
    <li>
      <strong>Node churn</strong>: new nodes pull many images at once (worst during incidents).
    </li>
    <li>
      <strong>Caching</strong>: node-local caching and image pre-pulling can reduce download volume dramatically.
    </li>
  </ul>

  <h2>3) Egress (split by destination)</h2>
  <p>
    Treat transfer as its own line item. Split by destination because pricing and billing boundaries differ.
  </p>
  <p class="muted">
    Tools: <a href="/calculators/data-egress-cost-calculator/">Data egress cost</a>,{" "}
    <a href="/calculators/cross-region-transfer-cost-calculator/">Cross-region transfer</a>.
  </p>
  <ul>
    <li>
      <strong>Same-region</strong>: often cheapest; keep clusters and registries co-located if possible.
    </li>
    <li>
      <strong>Cross-region</strong>: multi-region clusters and remote runners can make this meaningful.
    </li>
    <li>
      <strong>Internet</strong>: external users and third-party runners are the common egress driver.
    </li>
  </ul>

  <h2>Worked estimate template (copy/paste)</h2>
  <ul>
    <li>
      <strong>Stored GB-month</strong> = average stored GB across month (validate with registry usage)
    </li>
    <li>
      <strong>Download GB/month</strong> = pulls/month × avg artifact size (baseline + peak)
    </li>
    <li>
      <strong>Egress GB/month</strong> = subset of downloads billed as outbound (cross-region/internet)
    </li>
  </ul>

  <h2>Common pitfalls</h2>
  <ul>
    <li>Retention drift: old tags and layers kept forever.</li>
    <li>Assuming tags × size equals storage (layer sharing changes the math).</li>
    <li>Ignoring CI and scale-out peaks (pull storms are the peak scenario).</li>
    <li>Cross-region pulls hidden inside "it’s internal" assumptions.</li>
    <li>Not validating caching behavior (warm vs cold nodes).</li>
  </ul>

  <h2>How to validate</h2>
  <ul>
    <li>Validate actual stored usage and retention settings per repo.</li>
    <li>Sample pull volume during peak build/deploy windows and scale-outs.</li>
    <li>Validate which destinations are billed as outbound (same-region vs cross-region vs internet).</li>
  </ul>

  <h2>Related tools</h2>
  <div class="btn-row">
    <a class="btn" href="/calculators/object-storage-cost-calculator/">GB-month</a>
    <a class="btn" href="/calculators/data-egress-cost-calculator/">Egress</a>
    <a class="btn" href="/calculators/kubernetes-cost-calculator/">Kubernetes</a>
    <a class="btn" href="/guides/eks-vs-gke-vs-aks-cost/">Kubernetes platform costs</a>
  </div>

  <h2>Sources</h2>
  <ul>
    <li>
      <a href="https://cloud.google.com/artifact-registry/pricing" target="_blank" rel="nofollow noopener">
        Artifact Registry pricing
      </a>
    </li>
    <li>
      <a href="https://cloud.google.com/artifact-registry/docs" target="_blank" rel="nofollow noopener">
        Artifact Registry documentation
      </a>
    </li>
  </ul>
</GuideLayout>

