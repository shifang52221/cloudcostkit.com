---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { SITE } from "../../config/site";
import AdSlot from "../../components/AdSlot.astro";
import { GUIDES } from "../../lib/guides.generated";
import { withTrailingSlash } from "../../lib/url";

const title = `Azure cost guides | ${SITE.name}`;
const description =
  "Azure cost estimation guides for storage, networking (egress/private link), CDN/Front Door, observability/logs, and core managed services.";
const slots = SITE.adsenseSlots;

const azureGuides = GUIDES.filter((g) => g.category === "Azure")
  .slice()
  .sort((a, b) => a.title.localeCompare(b.title));
---
<BaseLayout title={title} description={description} canonicalPath="/guides/azure">
  <section class="card hero">
    <h1>Azure cost guides</h1>
    <p>Practical models to estimate common Azure line items and avoid frequent surprises.</p>
    <div class="btn-row" style="margin-top:12px">
      <a class="btn" href="/guides/">All guides</a>
      <a class="btn" href="/calculators/">Calculators</a>
      <a class="btn" href="/guides/cloud-cost-estimation-checklist/">Estimation checklist</a>
      <a class="btn" href="/methodology/">Methodology</a>
    </div>
  </section>

  <section class="grid" style="margin-top:18px">
    <section class="card section prose col-6">
      <h2 style="margin-top:0">A simple Azure estimate</h2>
      <ol class="muted" style="margin:10px 0 0; padding-left:18px">
        <li>Start with requests/month and GB/month.</li>
        <li>Add storage (GB-month) and retention policies.</li>
        <li>Add egress boundaries (internet vs region vs zone).</li>
        <li>Validate units (GB vs GiB) and request pricing units.</li>
      </ol>
      <div class="btn-row" style="margin-top:12px">
        <a class="btn" href="/calculators/networking/">Networking calculators</a>
        <a class="btn" href="/calculators/logging/">Logging calculators</a>
        <a class="btn" href="/calculators/storage/">Storage calculators</a>
      </div>
    </section>
    <section class="card section prose col-6">
      <h2 style="margin-top:0">Common traps</h2>
      <ul class="muted" style="margin:10px 0 0; padding-left:18px">
        <li>Underestimating egress by mixing destinations and tiers.</li>
        <li>Ignoring retries/timeouts and fan-out patterns (requests explode during incidents).</li>
        <li>Letting logs and metrics grow without retention and query guardrails.</li>
      </ul>
      <p class="muted" style="margin:12px 0 0">
        Start with effective rates and validate against billing exports before optimizing tiers.
      </p>
    </section>
  </section>

  <section class="card section">
    <div class="muted" style="font-size:13px; margin-bottom:10px">
      {azureGuides.length} Azure guides
    </div>
    <div class="grid">
      {azureGuides.map((g) => (
        <a class="card2 tool col-6" href={withTrailingSlash(g.canonicalPath)}>
          <div class="tool-title">{g.title}</div>
          <div class="tool-desc">{g.description}</div>
        </a>
      ))}
    </div>
  </section>

  <section class="section">
    <AdSlot slot={slots.guidesMid} minHeight={280} />
  </section>
</BaseLayout>
