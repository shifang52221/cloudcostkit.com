---
import GuideLayout from "../../layouts/GuideLayout.astro";

const title = "Azure Log Analytics pricing: ingestion, retention, and query costs";
const description =
  "A practical model for Log Analytics-style costs: GB ingested, retention storage, and query/scan behavior. Includes a method to estimate log GB from event rate and payload size, plus a validation checklist for high-volume sources.";

const faqs = [
  {
    q: "What usually drives Log Analytics cost?",
    a: "Log ingestion volume (GB) is usually the biggest driver, followed by retention. Query cost matters when you scan lots of data frequently.",
  },
  {
    q: "How do I estimate quickly?",
    a: "Estimate events per second, average event size, and retention days. Convert to GB/day and then to GB/month.",
  },
  {
    q: "What is the most common mistake?",
    a: "Turning on high-volume diagnostic sources (ingress/firewall/audit) without modeling their payload size, then keeping long retention by default.",
  },
  {
    q: "How do I validate?",
    a: "Sample real log payloads, validate which sources are enabled, and validate dashboard/alert query windows and refresh rates.",
  },
];
---
<GuideLayout
  title={title}
  description={description}
  canonicalPath="/guides/azure-log-analytics-pricing"
  lastUpdated="2026-01-27"
  faqs={faqs}
>
  <p>
    Log Analytics costs scale with volume. The safest estimate is a simple pipeline:
    <strong>events * size -> GB ingested -> retention storage -> query scans</strong>. If your estimate is wrong, it is
    usually wrong because one log source is much bigger than you think.
  </p>

  <h2>0) Inventory log sources (do not blend)</h2>
  <p>
    List sources and estimate them separately. Blending "average log size" across everything hides the real drivers.
  </p>
  <ul>
    <li>
      <strong>Ingress/proxy/access</strong>: extremely high volume, moderate size.
    </li>
    <li>
      <strong>Firewall/WAF</strong>: can be high volume and high size (rule metadata).
    </li>
    <li>
      <strong>Audit</strong>: often lower volume but required retention.
    </li>
    <li>
      <strong>Application logs</strong>: volume depends on log level and request volume.
    </li>
  </ul>

  <h2>1) Ingestion (GB)</h2>
  <p>
    Start with an event rate and average payload size. Multiply to get bytes/day, then convert to GB/day and GB/month. If
    you have multiple sources, estimate each source with its own size and event rate.
  </p>
  <p class="muted">
    Tool: <a href="/calculators/log-ingestion-cost-calculator/">Log ingestion cost calculator</a>.
  </p>
  <ul>
    <li>
      If you only have RPS, map requests to log events (e.g., 1 access log per request, plus error logs).
    </li>
    <li>
      Keep a peak scenario: incidents can multiply logs (retries, errors, verbose logging).
    </li>
  </ul>

  <h2>2) Retention (GB-month)</h2>
  <p>
    Retention is a storage multiplier. As a rule of thumb, if you ingest X GB/day and retain N days, you hold roughly{" "}
    <strong>X * N</strong> GB of data (on average). Long retention on high-volume sources is the fastest way to grow cost.
  </p>
  <p class="muted">
    Tool: <a href="/calculators/log-retention-storage-cost-calculator/">Retention storage calculator</a>.
  </p>
  <ul>
    <li>
      Use short retention for "debug noise" and long retention only where policy requires it.
    </li>
    <li>
      Split retention by table/source if possible (audit vs access logs).
    </li>
  </ul>

  <h2>3) Query and scan costs (dashboards + alerts)</h2>
  <p>
    Query cost depends on how much data you scan and how often. Dashboards and alert rules can scan far more data than you
    expect, especially with wide time windows and frequent refresh.
  </p>
  <p class="muted">
    Tool: <a href="/calculators/log-search-scan-cost-calculator/">Log search/scan calculator</a>.
  </p>
  <ul>
    <li>
      Prefer queries that narrow early (filter by service, status, or route) instead of scanning everything.
    </li>
    <li>
      Validate refresh intervals: a dashboard refreshing every minute is 1,440 scans/day.
    </li>
  </ul>

  <h2>Worked estimate template (copy/paste)</h2>
  <ul>
    <li>
      <strong>GB ingested/day</strong> = sum over sources(events/day * bytes/event)
    </li>
    <li>
      <strong>GB ingested/month</strong> = GB/day * 30 (baseline + peak)
    </li>
    <li>
      <strong>Avg retained GB</strong> ~= GB/day * retention_days (split by source)
    </li>
    <li>
      <strong>GB scanned/month</strong> = scans/day * GB/scan * 30 (dashboards + alerts)
    </li>
  </ul>

  <h2>Common pitfalls</h2>
  <ul>
    <li>Turning on high-volume sources without sampling real payload size first.</li>
    <li>Using one blended event size that hides a single dominant source (ingress/firewall).</li>
    <li>Keeping long retention everywhere by default.</li>
    <li>Dashboards/alerts scanning wide windows repeatedly (query cost explosion).</li>
    <li>Verbose logging during incidents (peak ingestion dominates the month).</li>
  </ul>

  <h2>How to validate</h2>
  <ul>
    <li>Sample real log payloads for top sources and compute bytes/event.</li>
    <li>Validate which diagnostic sources are enabled (ingress/firewall/audit) and estimate them separately.</li>
    <li>Validate retention windows per source (short for noise, long for policy-required logs).</li>
    <li>Audit dashboard refresh intervals and alert query windows (reduce repeated wide scans).</li>
  </ul>

  <h2>Related tools</h2>
  <div class="btn-row">
    <a class="btn" href="/calculators/log-cost-calculator/">All log tools</a>
    <a class="btn" href="/calculators/log-ingestion-cost-calculator/">Ingestion</a>
    <a class="btn" href="/calculators/log-retention-storage-cost-calculator/">Retention</a>
    <a class="btn" href="/calculators/log-search-scan-cost-calculator/">Scan</a>
    <a class="btn" href="/guides/log-costs/">Log cost basics</a>
  </div>

  <h2>Sources</h2>
  <ul>
    <li>
      <a href="https://azure.microsoft.com/pricing/details/monitor/" target="_blank" rel="nofollow noopener">
        Azure Monitor pricing (logs/metrics)
      </a>
    </li>
    <li>
      <a href="https://learn.microsoft.com/azure/azure-monitor/logs/" target="_blank" rel="nofollow noopener">
        Azure Monitor Logs documentation
      </a>
    </li>
  </ul>
</GuideLayout>

