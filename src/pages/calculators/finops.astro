---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { SITE } from "../../config/site";
import { TOOLS } from "../../lib/tools";
import AdSlot from "../../components/AdSlot.astro";

const title = `FinOps calculators | ${SITE.name}`;
const description =
  "FinOps calculators for compute cost, break-even analysis, request-based pricing, and common managed-service line items.";
const slots = SITE.adsenseSlots;

const tools = TOOLS.filter((t) => t.category === "FinOps");
---
<BaseLayout title={title} description={description} canonicalPath="/calculators/finops">
  <section class="card hero">
    <h1>FinOps calculators</h1>
    <p>Estimate core managed-service line items and compare pricing options with explicit assumptions.</p>
    <div class="btn-row" style="margin-top:12px">
      <a class="btn" href="/calculators/">All calculators</a>
      <a class="btn" href="/guides/requests-costs/">Guide: request-based pricing</a>
      <a class="btn" href="/guides/cloud-cost-estimation-checklist/">Estimation checklist</a>
      <a class="btn" href="/methodology/">Methodology</a>
    </div>
  </section>

  <section class="grid" style="margin-top:18px">
    <section class="card section prose col-6">
      <h2 style="margin-top:0">A practical estimate</h2>
      <ul class="muted" style="margin:10px 0 0; padding-left:18px">
        <li>Start with effective rates and real drivers (requests, GB, hours) before optimizing pricing tiers.</li>
        <li>Keep baseline and peak scenarios so budgets survive incidents.</li>
        <li>Separate “compute-only” comparisons from full-stack costs (logs, transfer, storage, retries).</li>
      </ul>
    </section>
    <section class="card section prose col-6">
      <h2 style="margin-top:0">Common pitfalls</h2>
      <ul class="muted" style="margin:10px 0 0; padding-left:18px">
        <li>Unit errors (per 10k vs per 1M, GB vs GiB) causing 10× mistakes.</li>
        <li>Retry storms and fan-out multiplying request volume.</li>
        <li>Ignoring storage growth and retention in “compute-only” models.</li>
      </ul>
    </section>
  </section>

  <section class="card section prose" style="margin-top:18px">
    <h2 style="margin-top:0">How to get your inputs</h2>
    <ul class="muted" style="margin:10px 0 0; padding-left:18px">
      <li><strong>Requests</strong>: service metrics or API gateway dashboards (RPS and totals).</li>
      <li><strong>Transfer</strong>: billing exports grouped by usage type (GB by boundary).</li>
      <li><strong>Compute</strong>: instance-hours from billing data and uptime schedules.</li>
      <li><strong>Storage</strong>: average GB-month and request counts from storage metrics.</li>
    </ul>
  </section>

  <section class="card section" style="margin-top:18px">
    <div class="muted" style="font-size:13px; margin-bottom:10px">{tools.length} FinOps tools</div>
    <div class="grid">
      {tools.map((t) => (
        <a class="card2 tool col-6" href={`/calculators/${t.slug}/`}>
          <div class="tool-title">{t.title}</div>
          <div class="tool-desc">{t.description}</div>
        </a>
      ))}
    </div>
  </section>

  <section class="card section prose" style="margin-top:18px">
    <h2 style="margin-top:0">Result interpretation (FinOps)</h2>
    <ul class="muted" style="margin:10px 0 0; padding-left:18px">
      <li>Use a baseline and a peak case so budgets survive load spikes and incidents.</li>
      <li>Keep compute-only comparisons separate from full-stack costs (logs, storage, transfer).</li>
      <li>Break-even results are sensitive to uptime hours and utilization, not just list prices.</li>
      <li>Apply discounts or commitments after the driver model is stable and validated.</li>
      <li>Track assumptions explicitly so revisions are fast when pricing or usage changes.</li>
    </ul>
  </section>

  <section class="card section prose" style="margin-top:18px">
    <h2 style="margin-top:0">Scenario planning (FinOps)</h2>
    <ul class="muted" style="margin:10px 0 0; padding-left:18px">
      <li>Baseline: average utilization, standard uptime hours, normal retry rates.</li>
      <li>Peak: 2x-3x traffic, higher transfer, and more log ingestion.</li>
      <li>Commitments: compare best-case utilization vs realistic utilization.</li>
      <li>Growth: add monthly growth assumptions for storage and request volume.</li>
      <li>Risk: keep a contingency buffer for incident months.</li>
    </ul>
  </section>

  <section class="card section prose" style="margin-top:18px">
    <h2 style="margin-top:0">Validate after changes (FinOps)</h2>
    <ul class="muted" style="margin:10px 0 0; padding-left:18px">
      <li>Compare modeled drivers to billing exports by usage type.</li>
      <li>Verify that commitment assumptions match actual utilization.</li>
      <li>Track top 3 line items weekly to confirm the model stays aligned.</li>
      <li>Adjust inputs when architecture or retention policies change.</li>
    </ul>
  </section>

  <section class="section">
    <AdSlot slot={slots.calculatorsListMid} minHeight={280} />
  </section>
</BaseLayout>
