---
import CalculatorLayout from "../../layouts/CalculatorLayout.astro";
import { LogIngestionCostCalculator } from "../../components/calculators/LogIngestionCost";
import { LogRetentionStorageCostCalculator } from "../../components/calculators/LogRetentionStorage";
import { LogSearchScanCostCalculator } from "../../components/calculators/LogSearchScanCost";

const title = "Log Cost Calculator";
const description =
  "Estimate total log costs: ingestion, retention storage, and optional scan/search charges. Educational use only.";
---
<CalculatorLayout
  title={title}
  description={description}
  canonicalPath="/calculators/log-cost-calculator"
  intro="Log platforms usually charge for (1) ingestion, (2) retention storage (GB-month), and sometimes (3) scan/search. This log cost calculator groups those line items so you can estimate a realistic monthly total and compare baseline vs peak months."
  examples={[
    "Estimate ingestion from GB/day, then add retention storage from retention days; optionally add scan charges if you run frequent queries.",
    "Retention increases costs linearly with days; scan costs increase with query volume and GB scanned.",
  ]}
  includes={[
    "Log ingestion estimate from GB/day and $/GB pricing.",
    "Retention storage estimate from GB/day, retention days, and $/GB-month pricing.",
    "Optional scan/search estimate from GB scanned per day and $/GB pricing.",
    "Optional event-rate estimators for ingestion and retention volume.",
  ]}
  excludes={[
    "Indexing add-ons, alerting, and premium features unless you model them separately.",
    "Provider-specific tiering (use blended effective rates or separate scenarios).",
  ]}
  how={[
    "Step 1: estimate ingestion charges (GB/day x $/GB x days/month).",
    "Step 2: estimate retained storage steady-state (GB/day x retention days) and apply $/GB-month.",
    "Step 3 (optional): estimate scan/search charges from GB scanned and $/GB pricing.",
    "Compare baseline vs peak months if traffic or incidents spike logs.",
    "Sum line items to get a total monthly estimate."
  ]}
  faqs={[
    {
      q: "Why do I need both ingestion and storage?",
      a: "Many vendors bill ingestion (GB ingested) separately from storage (GB-month retained). Even if ingest is flat, long retention increases storage cost.",
    },
    {
      q: "Do I always pay scan/search charges?",
      a: "No. Some platforms include queries; others charge by GB scanned. If your vendor charges for scans, use the scan calculator to model it.",
    },
    {
      q: "How can I reduce log costs quickly?",
      a: "The fastest levers are: reduce noisy logs at source, shorten retention for low-value logs, and avoid expensive broad scans (use sampling or narrower filters).",
    },
  ]}
  lastUpdated="2026-01-16"
  related={[
    { href: "/calculators/log-ingestion-cost-calculator", label: "Log ingestion cost" },
    { href: "/calculators/log-storage-cost-calculator", label: "Log storage cost" },
    { href: "/calculators/log-search-scan-cost-calculator", label: "Log scan cost" },
    { href: "/guides/log-costs", label: "Guide: log costs" },
    { href: "/guides/estimate-log-ingestion-gb-per-day", label: "Guide: estimate log ingestion (GB/day)" },
    { href: "/guides/log-retention-storage-cost", label: "Guide: log retention storage cost" },
  ]}
>
  <div class="prose">
    <h2 style="margin-top:0">1) Ingestion</h2>
    <p class="muted" style="margin-top:8px">
      Start with GB/day ingested for the logs you send to your vendor. If you have multiple log types, model them
      separately and add them up.
    </p>
  </div>
  <LogIngestionCostCalculator client:load />

  <div class="prose" style="margin-top:18px">
    <h2>2) Retention storage</h2>
    <p class="muted" style="margin-top:8px">
      Retention is usually what makes log storage costs grow. Long retention multiplies steady-state stored GB.
    </p>
  </div>
  <LogRetentionStorageCostCalculator client:load />

  <div class="prose" style="margin-top:18px">
    <h2>3) Optional: scan/search</h2>
    <p class="muted" style="margin-top:8px">
      If your provider charges by GB scanned, estimate scan volume for typical daily query workloads.
    </p>
  </div>
  <LogSearchScanCostCalculator client:load />
  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">How to get your inputs</h2>
    <ul>
      <li><strong>Volume</strong>: start from measured ingestion (GB/day) if you have it, then convert to monthly/retention where needed.</li>
      <li><strong>Estimator</strong>: use events/sec x bytes/event when you only have log rates.</li>
      <li><strong>Retention</strong>: decide retention days and model steady-state GB-month.</li>
      <li><strong>Queries</strong>: model scan/query volume if your tool bills by GB scanned.</li>
    </ul>

    <h2>Result interpretation</h2>
    <ul>
      <li>If retention dominates, shorten retention or move cold logs to cheaper tiers.</li>
      <li>If scans dominate, reduce query frequency and narrow time windows.</li>
    </ul>

    <h2>Common mistakes</h2>
    <ul>
      <li>Modeling ingestion but forgetting retention (GB-month) and scan/query costs.</li>
      <li>Keeping noisy logs forever instead of setting explicit retention tiers.</li>
    </ul>

    <h2>Scenario planning</h2>
    <table>
      <thead>
        <tr>
          <th>Scenario</th>
          <th>Ingestion</th>
          <th>Retention</th>
          <th>Scans</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Baseline</td>
          <td>Expected</td>
          <td>Current policy</td>
          <td>Typical queries</td>
        </tr>
        <tr>
          <td>Peak</td>
          <td>High</td>
          <td>Same policy</td>
          <td>Incident queries</td>
        </tr>
      </tbody>
    </table>

    <h2>Validate after changes</h2>
    <ul>
      <li>Check ingestion GB/day and retention GB-month after changes.</li>
      <li>Check query scan GB and dashboard refresh frequency (common hidden driver).</li>
    </ul>

    <h2>Next steps</h2>
    <div class="btn-row" style="margin-top:0">
      <a class="btn" href="/guides/">Guides</a>
      <a class="btn" href="/calculators/">All calculators</a>
      <a class="btn" href="/calculators/log-ingestion-cost-calculator/">Log ingestion cost</a>
      <a class="btn" href="/calculators/log-storage-cost-calculator/">Log storage cost</a>
      <a class="btn" href="/calculators/log-search-scan-cost-calculator/">Log scan cost</a>
      <a class="btn" href="/guides/log-costs/">Guide: log costs</a>
    </div>
  </div>
</CalculatorLayout>
