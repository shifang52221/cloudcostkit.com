---
import CalculatorLayout from "../../layouts/CalculatorLayout.astro";
import { AwsApiGatewayCostCalculator as AwsApiGatewayCostCalculatorComponent } from "../../components/calculators/AwsApiGatewayCost";

const title = "AWS API Gateway Cost Calculator";
const description =
  "Estimate API Gateway-style cost from request volume plus response transfer assumptions, with baseline vs peak scenarios. Educational use only.";
---
<CalculatorLayout
  title={title}
  description={description}
  canonicalPath="/calculators/aws-api-gateway-cost-calculator"
  intro="Estimate API Gateway-style cost with a simple model: request fees + response transfer. Compare baseline vs peak traffic with your effective pricing and response size."
  examples={[
    "300M requests/month at $3.50 per 1M requests with 15 KB avg response and $0.09/GB egress.",
    "Peak 220% scenario helps budget for launch windows and incident spikes."
  ]}
  includes={[
    "Request fee estimate from requests/month and $ per 1M requests.",
    "Transfer estimate from requests/month and average response KB (then $/GB).",
    "Request volume estimator for baseline and peak traffic.",
    "Baseline vs peak scenario table for request spikes.",
  ]}
  excludes={[
    "Caching, WAF, custom domains, and other add-ons unless you model them separately.",
    "Upstream/downstream service costs (Lambda, databases, logs, etc).",
  ]}
  how={[
    "Request cost = (requests per month / 1,000,000) x $ per 1M requests.",
    "Transfer GB/month ~= requests per month x avg response KB / 1024 / 1024.",
    "Transfer cost = transfer GB/month x $ per GB.",
    "Total = request cost + transfer cost.",
  ]}
  faqs={[
    {
      q: "Do I always pay egress for API Gateway responses?",
      a: "Not always. Transfer pricing depends on where traffic goes (internet, VPC, regions) and your architecture. Use your effective transfer rate for the path that applies.",
    },
    {
      q: "What should I use for average response size?",
      a: "Use the typical compressed payload size over the wire. Large responses can make transfer dominate total cost.",
    },
    {
      q: "How do I reduce API Gateway cost?",
      a: "Reduce request volume (caching, batching), reduce response size, and use a CDN for large payloads when appropriate.",
    },
  ]}
  lastUpdated="2026-01-28"
  related={[
    { href: "/guides/aws-api-gateway-pricing", label: "Guide: API Gateway pricing" },
    { href: "/guides/aws-api-gateway-estimate-requests", label: "Guide: estimate API requests" },
    { href: "/guides/aws-api-gateway-cost-optimization", label: "Guide: reduce API Gateway costs" },
    { href: "/guides/aws-api-gateway-vs-alb-vs-cloudfront-cost", label: "API Gateway vs ALB vs CloudFront cost" },
    { href: "/guides/aws-api-gateway-access-logs-cost", label: "Guide: API Gateway access logs cost" },
    { href: "/calculators/aws-api-gateway-request-estimator", label: "API Gateway request volume estimator" },
    { href: "/calculators/aws-api-gateway-access-log-cost-calculator", label: "API Gateway access log cost calculator" },
    { href: "/calculators/api-request-cost-calculator", label: "API request cost (generic)" },
  ]}
>
  <AwsApiGatewayCostCalculatorComponent client:load />
  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">How to get your inputs</h2>
    <ul>
      <li><strong>Inputs</strong>: use billing exports, metrics, or logs to get real counts/GB where possible.</li>
      <li><strong>Units</strong>: convert throughput (Mbps) or rates (RPS) into monthly units when needed.</li>
      <li><strong>Scenarios</strong>: build a baseline and a high-usage scenario to avoid under-budgeting.</li>
    </ul>

    <h2>Result interpretation</h2>
    <ul>
      <li>If transfer dominates, reduce response size or add CDN caching.</li>
      <li>If request fees dominate, focus on caching, batching, and avoiding noisy clients.</li>
    </ul>

    <h2>Common mistakes</h2>
    <ul>
      <li>Using a single average and ignoring peak/incident scenarios.</li>
      <li>Double-counting or missing adjacent line items (transfer, logs, retries).</li>
    </ul>

    <h2>Scenario planning</h2>
    <table>
      <thead>
        <tr>
          <th>Scenario</th>
          <th>Requests</th>
          <th>Response size</th>
          <th>Transfer path</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Baseline</td>
          <td>Expected</td>
          <td>Average</td>
          <td>Typical</td>
        </tr>
        <tr>
          <td>Peak</td>
          <td>High</td>
          <td>Higher under load</td>
          <td>Worst-case</td>
        </tr>
      </tbody>
    </table>

    <h2>Validate after changes</h2>
    <ul>
      <li>Compare your estimate to the first real bill and adjust assumptions.</li>
      <li>Track the primary driver metric (requests/GB/count) over time.</li>
    </ul>

    <h2>Next steps</h2>
    <div class="btn-row" style="margin-top:0">
      <a class="btn" href="/guides/">Guides</a>
      <a class="btn" href="/calculators/">All calculators</a>
      <a class="btn" href="/calculators/aws-api-gateway-request-estimator/">API Gateway request estimator</a>
      <a class="btn" href="/guides/aws-api-gateway-pricing/">Guide: API Gateway pricing</a>
      <a class="btn" href="/guides/aws-api-gateway-estimate-requests/">Guide: estimate API requests</a>
      <a class="btn" href="/guides/aws-api-gateway-cost-optimization/">Guide: reduce API Gateway costs</a>
      <a class="btn" href="/guides/aws-api-gateway-vs-alb-vs-cloudfront-cost/">API Gateway vs ALB vs CloudFront cost</a>
    </div>
  </div>
</CalculatorLayout>
