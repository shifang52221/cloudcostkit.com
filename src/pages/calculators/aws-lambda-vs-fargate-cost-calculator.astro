---
import CalculatorLayout from "../../layouts/CalculatorLayout.astro";
import { AwsLambdaVsFargateCostCalculator as AwsLambdaVsFargateCostCalculatorComponent } from "../../components/calculators/AwsLambdaVsFargateCost";

const title = "AWS Lambda vs Fargate Cost Calculator";
const description =
  "Compare Lambda vs Fargate compute cost using the same workload assumptions, with baseline vs peak scenarios. Estimate monthly Lambda request + GB-seconds and Fargate vCPU-hours + GB-hours with days per month. Educational use only.";
---
<CalculatorLayout
  title={title}
  description={description}
  canonicalPath="/calculators/aws-lambda-vs-fargate-cost-calculator"
  intro="Compare Lambda (requests + GB-seconds) vs Fargate (vCPU-hours + GB-hours) using your own pricing inputs. See baseline vs peak differences in a compute-only comparison."
  examples={[
    "50M requests/month at 120 ms and 512 MB vs 3 tasks running 24/7 at 0.5 vCPU and 1 GB.",
    "For steady high-throughput workloads, Fargate often wins; for bursty spiky workloads, Lambda often wins.",
    "Peak 180% scenario helps validate incident months."
  ]}
  includes={[
    "Lambda request cost and compute cost (GB-seconds) with optional free tier.",
    "Fargate vCPU-hour and memory GB-hour compute costs from average running tasks.",
    "Days/month input to align with billing cycles for Fargate.",
    "Side-by-side monthly totals and differences.",
    "Baseline vs peak scenario table for workload spikes.",
  ]}
  excludes={[
    "Logs/metrics costs (often meaningful for services with high volume).",
    "Networking costs (NAT, egress, cross-AZ/cross-region transfer).",
    "Load balancers, retries/timeouts, and ancillary services.",
  ]}
  how={[
    "Lambda: request cost + (duration x memory) GB-seconds x $/GB-second (minus free tier if enabled).",
    "Fargate: tasks x vCPU x hours x $/vCPU-hour + tasks x memory(GB) x hours x $/GB-hour.",
    "Hours = days per month x hours per day.",
    "Compare the compute-only monthly totals, then add other line items in your overall model.",
  ]}
  faqs={[
    {
      q: "Is this an official AWS quote?",
      a: "No. This is a simplified estimate for planning. Verify region pricing, free tier, rounding rules, and service add-ons in AWS documentation.",
    },
    {
      q: "Why does the winner change by workload shape?",
      a: "Lambda pricing is execution-based and can be cheaper when traffic is bursty or idle often. Fargate pricing is capacity x time and can be cheaper for steady utilization and long-running compute.",
    },
    {
      q: "What should I model next after compute?",
      a: "Add logs, networking (egress/NAT/cross-AZ), and load balancers. For many services, these line items can be comparable to compute.",
    },
  ]}
  lastUpdated="2026-01-28"
  related={[
    { href: "/guides/aws-lambda-vs-fargate-cost", label: "Guide: Lambda vs Fargate cost" },
    { href: "/guides/aws-lambda-pricing", label: "Guide: Lambda pricing" },
    { href: "/guides/aws-fargate-pricing", label: "Guide: Fargate pricing" },
    { href: "/calculators/aws-lambda-cost-calculator", label: "Lambda cost calculator" },
    { href: "/calculators/aws-fargate-cost-calculator", label: "Fargate cost calculator" },
    { href: "/calculators/log-cost-calculator", label: "Log cost" },
    { href: "/calculators/data-egress-cost-calculator", label: "Data egress cost" },
  ]}
>
  <AwsLambdaVsFargateCostCalculatorComponent client:load />
  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">How to get your inputs</h2>
    <ul>
      <li><strong>Lambda</strong>: use monthly request count, avg duration (p50/p95), and memory size from metrics.</li>
      <li><strong>Fargate</strong>: use average running tasks, vCPU, and memory from the task definition.</li>
      <li><strong>Pricing</strong>: apply region-specific rates and toggle free tier if it applies.</li>
      <li><strong>Schedule</strong>: hours/day and days/month should reflect actual Fargate uptime.</li>
    </ul>

    <h2>Common mistakes</h2>
    <ul>
      <li>Using cold-start duration for all Lambda requests.</li>
      <li>Ignoring provisioned concurrency or steady background load.</li>
      <li>Mixing MB and GB when converting memory sizes.</li>
    </ul>

    <h2>Validate after changes</h2>
    <ul>
      <li>Compare request count and GB-seconds to billing or CloudWatch metrics.</li>
      <li>Validate average task count and hours with ECS/Fargate usage reports.</li>
    </ul>

    <h2>Next steps</h2>
    <div class="btn-row" style="margin-top:0">
      <a class="btn" href="/guides/">Guides</a>
      <a class="btn" href="/calculators/">All calculators</a>
      <a class="btn" href="/guides/aws-lambda-vs-fargate-cost/">Guide: Lambda vs Fargate cost</a>
      <a class="btn" href="/guides/aws-lambda-pricing/">Guide: Lambda pricing</a>
      <a class="btn" href="/guides/aws-fargate-pricing/">Guide: Fargate pricing</a>
      <a class="btn" href="/calculators/aws-lambda-cost-calculator/">Lambda cost calculator</a>
    </div>
  </div>
</CalculatorLayout>
