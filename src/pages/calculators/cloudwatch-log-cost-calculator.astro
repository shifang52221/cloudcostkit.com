---
import CalculatorLayout from "../../layouts/CalculatorLayout.astro";
import { CloudwatchLogsCostCalculator } from "../../components/calculators/CloudwatchLogsCost";

const title = "CloudWatch Logs Cost Calculator";
const description =
  "Estimate CloudWatch Logs-style costs from ingestion, retention storage, and optional Logs Insights scans. Educational use only.";
---
<CalculatorLayout
  title={title}
  description={description}
  canonicalPath="/calculators/cloudwatch-log-cost-calculator"
  intro="CloudWatch Logs cost usually comes from three drivers: ingestion (GB), retention storage (GB-month), and Logs Insights scans (GB scanned). This calculator groups those line items into one model so you can estimate a realistic monthly total and compare baseline vs peak months."
  examples={[
    "Model baseline ingestion + retention first, then optionally add Logs Insights scans if you query heavily.",
    "Retention can dominate when you keep high-volume logs for 90+ days; scans can dominate when dashboards query broad windows.",
    "Use a peak multiplier when incidents or deploys spike ingestion and scans.",
  ]}
  includes={[
    "Ingestion estimate from GB/day and $/GB.",
    "Retention storage estimate from GB/day, retention days, and $/GB-month.",
    "Optional Logs Insights scan estimate from scanned GB/day and $/GB scanned.",
    "Optional query-based scan estimator (queries/day x GB per query).",
    "Baseline vs peak comparison for incident spikes.",
  ]}
  excludes={[
    "Exports/subscription filters to other systems (which may have their own ingestion charges).",
    "Vendor-specific minimums and advanced features (anomaly detection, premium analytics).",
  ]}
  how={[
    "Ingestion cost = (GB/day x billing days) x $/GB.",
    "Retention storage (steady state) = (GB/day x retention days) x $/GB-month.",
    "Optional: Logs Insights scan cost = (GB scanned/day x billing days) x $/GB scanned.",
    "Model a peak month for incident logging and dashboard spikes.",
    "Sum the line items for a monthly estimate.",
  ]}
  faqs={[
    {
      q: "Why do CloudWatch Logs bills spike during incidents?",
      a: "Incidents create retries/timeouts and verbose logs, which multiply ingestion. Incident dashboards often scan broader windows more frequently, multiplying Insights scans.",
    },
    {
      q: "What is the most common modeling mistake?",
      a: "Using one blended GB/day and forgetting that retention and scans are independent multipliers (retention days and query frequency).",
    },
    {
      q: "How can I reduce costs quickly?",
      a: "Drop noisy logs at source, shorten retention for low-value logs, and reduce broad Insights queries (narrow time windows and filter early).",
    },
  ]}
  lastUpdated="2026-01-28"
  related={[
    { href: "/calculators/cloudwatch-logs-insights-cost-calculator", label: "CloudWatch Logs Insights scan cost" },
    { href: "/calculators/log-cost-calculator", label: "Log cost calculator (generic)" },
    { href: "/calculators/log-ingestion-cost-calculator", label: "Log ingestion cost" },
    { href: "/calculators/log-storage-cost-calculator", label: "Tiered log storage (hot + archive)" },
    { href: "/guides/log-costs", label: "Guide: log costs" },
  ]}
>
  <CloudwatchLogsCostCalculator client:load />

  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">CloudWatch-specific gotchas</h2>
    <ul class="muted" style="margin:10px 0 0; padding-left:18px">
      <li>
        <strong>Subscription filters / exports</strong>: forwarding logs to another system can create a second ingestion bill.
      </li>
      <li>
        <strong>Dashboards and alerts</strong>: frequent refresh + wide windows can multiply Insights scan volume.
      </li>
      <li>
        <strong>Retention drift</strong>: log groups often default to "never expire" unless explicitly set.
      </li>
    </ul>
  </div>

  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">How to get your inputs</h2>
    <ul>
      <li><strong>GB/day ingested</strong>: use CloudWatch usage metrics or billing exports for the top log groups.</li>
      <li><strong>Retention days</strong>: read the retention policy for each log group (defaults often drift).</li>
      <li><strong>Insights scan GB</strong>: estimate from query history (range length x data scanned per query).</li>
      <li><strong>Billing days</strong>: use 30 or 31 days, or 730 hours if you model monthly hours elsewhere.</li>
    </ul>
  </div>

  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">Result interpretation</h2>
    <ul>
      <li>If ingestion dominates, reduce verbose logs or drop noisy sources at ingest.</li>
      <li>If retention dominates, shorten retention or move cold logs to cheaper storage.</li>
      <li>If scans dominate, narrow Insights queries and reduce dashboard refresh frequency.</li>
    </ul>
  </div>

  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">Common mistakes</h2>
    <ul>
      <li>Assuming default retention is set (many groups stay "never expire").</li>
      <li>Leaving dashboards to scan wide windows at high frequency.</li>
      <li>Mixing ingestion and scan costs into one blended GB number.</li>
    </ul>
  </div>

  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">Scenario planning</h2>
    <table>
      <thead>
        <tr>
          <th>Scenario</th>
          <th>Ingestion</th>
          <th>Retention</th>
          <th>Insights scans</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Baseline</td>
          <td>Expected</td>
          <td>Current policy</td>
          <td>Typical dashboards</td>
        </tr>
        <tr>
          <td>Peak</td>
          <td>High</td>
          <td>Same policy</td>
          <td>Incident queries</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">Validate after changes</h2>
    <ul>
      <li>Validate ingestion GB/day for your largest log groups (ingress, API, audit).</li>
      <li>Validate retention days per log group and ensure defaults are not "forever".</li>
      <li>Validate Insights scanned bytes for dashboards/alerts (query frequency matters as much as window size).</li>
    </ul>
  </div>
</CalculatorLayout>
