---
import CalculatorLayout from "../../layouts/CalculatorLayout.astro";
import { CloudwatchLogsCostCalculator } from "../../components/calculators/CloudwatchLogsCost";

const title = "CloudWatch Logs Cost Calculator";
const description =
  "Estimate CloudWatch Logs-style costs from ingestion, retention storage, and optional Logs Insights scans. Educational use only.";
---
<CalculatorLayout
  title={title}
  description={description}
  canonicalPath="/calculators/cloudwatch-log-cost-calculator"
  intro="CloudWatch Logs cost usually comes from three drivers: ingestion (GB), retention storage (GB-month), and Logs Insights scans (GB scanned). This calculator groups those line items into one model so you can estimate a realistic monthly total and compare baseline vs peak months."
  examples={[
    "Model baseline ingestion + retention first, then optionally add Logs Insights scans if you query heavily.",
    "Retention can dominate when you keep high-volume logs for 90+ days; scans can dominate when dashboards query broad windows.",
    "Use a peak multiplier when incidents or deploys spike ingestion and scans.",
  ]}
  includes={[
    "Ingestion estimate from GB/day and $/GB.",
    "Retention storage estimate from GB/day, retention days, and $/GB-month.",
    "Optional Logs Insights scan estimate from scanned GB/day and $/GB scanned.",
    "Baseline vs peak comparison for incident spikes.",
  ]}
  excludes={[
    "Exports/subscription filters to other systems (which may have their own ingestion charges).",
    "Vendor-specific minimums and advanced features (anomaly detection, premium analytics).",
  ]}
  how={[
    "Ingestion cost = (GB/day x billing days) x $/GB.",
    "Retention storage (steady state) = (GB/day x retention days) x $/GB-month.",
    "Optional: Logs Insights scan cost = (GB scanned/day x billing days) x $/GB scanned.",
    "Model a peak month for incident logging and dashboard spikes.",
    "Sum the line items for a monthly estimate.",
  ]}
  faqs={[
    {
      q: "Why do CloudWatch Logs bills spike during incidents?",
      a: "Incidents create retries/timeouts and verbose logs, which multiply ingestion. Incident dashboards often scan broader windows more frequently, multiplying Insights scans.",
    },
    {
      q: "What is the most common modeling mistake?",
      a: "Using one blended GB/day and forgetting that retention and scans are independent multipliers (retention days and query frequency).",
    },
    {
      q: "How can I reduce costs quickly?",
      a: "Drop noisy logs at source, shorten retention for low-value logs, and reduce broad Insights queries (narrow time windows and filter early).",
    },
  ]}
  lastUpdated="2026-01-28"
  related={[
    { href: "/calculators/cloudwatch-logs-insights-cost-calculator", label: "CloudWatch Logs Insights scan cost" },
    { href: "/calculators/log-cost-calculator", label: "Log cost calculator (generic)" },
    { href: "/calculators/log-ingestion-cost-calculator", label: "Log ingestion cost" },
    { href: "/calculators/log-storage-cost-calculator", label: "Tiered log storage (hot + archive)" },
    { href: "/guides/log-costs", label: "Guide: log costs" },
  ]}
>
  <CloudwatchLogsCostCalculator client:load />

  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">CloudWatch-specific gotchas</h2>
    <ul class="muted" style="margin:10px 0 0; padding-left:18px">
      <li>
        <strong>Subscription filters / exports</strong>: forwarding logs to another system can create a second ingestion bill.
      </li>
      <li>
        <strong>Dashboards and alerts</strong>: frequent refresh + wide windows can multiply Insights scan volume.
      </li>
      <li>
        <strong>Retention drift</strong>: log groups often default to "never expire" unless explicitly set.
      </li>
    </ul>
  </div>

  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">Validate after changes</h2>
    <ul>
      <li>Validate ingestion GB/day for your largest log groups (ingress, API, audit).</li>
      <li>Validate retention days per log group and ensure defaults are not "forever".</li>
      <li>Validate Insights scanned bytes for dashboards/alerts (query frequency matters as much as window size).</li>
    </ul>
  </div>
</CalculatorLayout>
