---
import CalculatorLayout from "../../layouts/CalculatorLayout.astro";
import { AwsEcrCostCalculator as AwsEcrCostCalculatorComponent } from "../../components/calculators/AwsEcrCost";

const title = "AWS ECR Cost Calculator";
const description =
  "Estimate ECR-style container registry cost from stored GB-month plus data transfer assumptions, with baseline vs peak scenarios. Educational use only.";
---
<CalculatorLayout
  title={title}
  description={description}
  canonicalPath="/calculators/aws-ecr-cost-calculator"
  intro="Estimate ECR-style costs with a simplified model: storage (GB-month) plus data transfer out. Compare baseline vs peak image usage with your pricing."
  examples={[
    "2,000 GB-month stored at $0.10/GB-month and 500 GB/month egress at $0.09/GB.",
    "Peak 200% scenario captures release-day pull spikes."
  ]}
  includes={[
    "Storage baseline: stored GB-month x $ per GB-month.",
    "Egress estimate: GB/month transfer out x $ per GB.",
    "Optional storage growth estimator (GB-month average).",
    "Baseline vs peak scenario table for storage and egress spikes.",
  ]}
  excludes={[
    "Replication, scanning, and feature add-ons unless modeled separately.",
    "Compute/network costs in your cluster (node egress, NAT, load balancers).",
  ]}
  how={[
    "Storage cost = stored GB-month x $ per GB-month.",
    "Transfer cost = egress GB/month x $ per GB.",
    "Total = storage + transfer.",
  ]}
  faqs={[
    {
      q: "Do internal pulls inside AWS count as internet egress?",
      a: "Not always. Egress depends on where images are pulled to (same region/VPC vs cross-region vs internet). Use your effective $/GB for the path that applies to your workloads.",
    },
    {
      q: "How do I estimate stored GB-month?",
      a: "Use the average stored size over the month. If you retain many tags and rebuild images frequently, stored GB-month grows quickly. Retention policies are the biggest lever.",
    },
  ]}
  lastUpdated="2026-02-07"
  related={[
    { href: "/guides/aws-ecr-pricing", label: "Guide: ECR pricing" },
    { href: "/guides/aws-ecr-estimate-storage-gb-month", label: "Guide: estimate image storage" },
    { href: "/guides/aws-ecr-cost-optimization", label: "Guide: reduce ECR costs" },
    { href: "/calculators/data-egress-cost-calculator", label: "Data egress calculator" },
  ]}
>
  <AwsEcrCostCalculatorComponent client:load />
  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">How to get your inputs</h2>
    <ul>
      <li><strong>Inputs</strong>: use billing exports, metrics, or logs to get real counts/GB where possible.</li>
      <li><strong>Units</strong>: convert throughput (Mbps) or rates (RPS) into monthly units when needed.</li>
      <li><strong>Scenarios</strong>: build a baseline and a high-usage scenario to avoid under-budgeting.</li>
    </ul>

    <h2>Result interpretation</h2>
    <ul>
      <li>Storage is steady; transfer usually spikes during deploys, CI, or multi-region pulls.</li>
      <li>If transfer dominates, optimize cache/pull patterns before trimming storage.</li>
    </ul>

    <h2>Common mistakes</h2>
    <ul>
      <li>Using a single average and ignoring peak/incident scenarios.</li>
      <li>Double-counting or missing adjacent line items (transfer, logs, retries).</li>
    </ul>

    

    <h2>Advanced inputs to capture</h2>
    <ul>
      <li>Average image size and retained tags per repo drive stored GB-month.</li>
      <li>Pull volume from CI and cluster nodes can spike during releases.</li>
      <li>Account for cache hit rates so you do not double count pulls.</li>
      <li>Separate in-region pulls from cross-region or public pulls.</li>
    </ul>

    <h2>Scenario planning</h2>
    <table>
      <thead>
        <tr>
          <th>Scenario</th>
          <th>Stored GB</th>
          <th>Egress GB</th>
          <th>Drivers</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Baseline</td>
          <td>Average</td>
          <td>Typical</td>
          <td>Normal pull rate</td>
        </tr>
        <tr>
          <td>Peak</td>
          <td>High</td>
          <td>Spike</td>
          <td>Release day / CI surge</td>
        </tr>
      </tbody>
    </table>

    <h2>Validate after changes</h2>
    <ul>
      <li>Compare your estimate to the first real bill and adjust assumptions.</li>
      <li>Track the primary driver metric (requests/GB/count) over time.</li>
    </ul>

    <h2>Next steps</h2>
    <div class="btn-row" style="margin-top:0">
      <a class="btn" href="/guides/">Guides</a>
      <a class="btn" href="/calculators/">All calculators</a>
      <a class="btn" href="/guides/aws-ecr-pricing/">Guide: ECR pricing</a>
      <a class="btn" href="/guides/aws-ecr-estimate-storage-gb-month/">Guide: estimate image storage</a>
      <a class="btn" href="/guides/aws-ecr-cost-optimization/">Guide: reduce ECR costs</a>
      <a class="btn" href="/calculators/data-egress-cost-calculator/">Data egress calculator</a>
    </div>
  </div>
</CalculatorLayout>
