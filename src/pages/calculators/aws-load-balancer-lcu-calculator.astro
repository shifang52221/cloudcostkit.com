---
import CalculatorLayout from "../../layouts/CalculatorLayout.astro";
import { AwsLoadBalancerCapacityUnitsCalculator as AwsLoadBalancerCapacityUnitsCalculatorComponent } from "../../components/calculators/AwsLoadBalancerCapacityUnits";

const title = "AWS ALB LCU / NLB NLCU Calculator";
const description =
  "Estimate ALB LCU or NLB NLCU capacity units per hour from connection rates, active connections, and bytes processed, with baseline vs peak scenarios. Educational use only.";
---
<CalculatorLayout
  title={title}
  description={description}
  canonicalPath="/calculators/aws-load-balancer-lcu-calculator"
  intro="Estimate average ALB LCU (or NLB NLCU) from the common billing drivers: new connections, active connections, bytes processed, and (for ALB) rule evaluations. Compare baseline vs peak driver rates."
  examples={[
    "If you have 40 new connections/sec, 2,000 active connections, and 0.8 GB/hour processed -> estimate average LCU/NLCU.",
    "Use this to convert metrics into \"capacity units per hour\" for the load balancer cost calculator.",
    "Peak 230% scenario highlights the max-driver jump during traffic spikes."
  ]}
  includes={[
    "LCU/NLCU units estimate from inputs (drivers).",
    "Shows which driver dominates (max of drivers).",
    "Baseline vs peak scenario table for driver spikes.",
  ]}
  excludes={[
    "Actual pricing (use the load balancer cost calculator after you estimate units/hour).",
    "Provider-specific exceptions, rounding rules, and tiering unless you reflect them elsewhere.",
  ]}
  how={[
    "Compute each driver's units as (measured value / driver threshold).",
    "Capacity units per hour = max(driver units).",
    "Use the result as \"capacity units (avg per hour)\" for a monthly cost estimate.",
  ]}
  faqs={[
    {
      q: "Why does this take the max of drivers?",
      a: "LCU/NLCU billing is commonly based on the maximum of several usage dimensions (connections, bytes processed, and for ALB, rule evaluations).",
    },
    {
      q: "Where do I get these inputs?",
      a: "Use load balancer metrics for new connections, active connections, and bytes processed. If you don't have rule evaluation metrics, approximate from request rate and routing rules.",
    },
    {
      q: "How do I turn LCU/NLCU into dollars?",
      a: "Plug \"capacity units (avg per hour)\" into the load balancer cost calculator along with your $/unit-hour pricing.",
    },
  ]}
  lastUpdated="2026-01-29"
  related={[
    { href: "/calculators/aws-load-balancer-cost-calculator", label: "Load balancer cost calculator" },
    { href: "/guides/aws-load-balancer-lcu-explained", label: "Guide: LCU/NLCU explained" },
    { href: "/guides/aws-load-balancer-cost", label: "Guide: load balancer cost" },
    { href: "/guides/aws-alb-vs-nlb-cost", label: "Guide: ALB vs NLB cost" },
    { href: "/guides/aws-load-balancer-estimate-lcu", label: "Guide: estimate LCU from metrics" },
  ]}
>
  <AwsLoadBalancerCapacityUnitsCalculatorComponent client:load />
  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">How to get your inputs</h2>
    <ul>
      <li><strong>Inputs</strong>: use billing exports, metrics, or logs to get real counts/GB where possible.</li>
      <li><strong>Units</strong>: convert throughput (Mbps) or rates (RPS) into monthly units when needed.</li>
      <li><strong>Scenarios</strong>: build a baseline and a high-usage scenario to avoid under-budgeting.</li>
    </ul>

    <h2>Result interpretation</h2>
    <ul>
      <li>LCU/NLCU is the max driver; focus on the largest driver first.</li>
      <li>Processed bytes often dominates during large payload spikes.</li>
    </ul>

    <h2>Common mistakes</h2>
    <ul>
      <li>Using a single average and ignoring peak/incident scenarios.</li>
      <li>Double-counting or missing adjacent line items (transfer, logs, retries).</li>
    </ul>

    <h2>Scenario planning</h2>
    <table>
      <thead>
        <tr>
          <th>Scenario</th>
          <th>Connections</th>
          <th>Processed GB/hr</th>
          <th>Rule evals</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Baseline</td>
          <td>Expected</td>
          <td>Expected</td>
          <td>Expected</td>
        </tr>
        <tr>
          <td>Peak</td>
          <td>High</td>
          <td>High</td>
          <td>Burst</td>
        </tr>
      </tbody>
    </table>

    <h2>Validate after changes</h2>
    <ul>
      <li>Compare your estimate to the first real bill and adjust assumptions.</li>
      <li>Track the primary driver metric (requests/GB/count) over time.</li>
    </ul>

    <h2>Next steps</h2>
    <div class="btn-row" style="margin-top:0">
      <a class="btn" href="/guides/">Guides</a>
      <a class="btn" href="/calculators/">All calculators</a>
      <a class="btn" href="/calculators/aws-load-balancer-cost-calculator/">Load balancer cost calculator</a>
      <a class="btn" href="/guides/aws-load-balancer-lcu-explained/">Guide: LCU/NLCU explained</a>
      <a class="btn" href="/guides/aws-load-balancer-cost/">Guide: load balancer cost</a>
      <a class="btn" href="/guides/aws-alb-vs-nlb-cost/">Guide: ALB vs NLB cost</a>
    </div>
  </div>
</CalculatorLayout>
