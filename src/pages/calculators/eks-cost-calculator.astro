---
import CalculatorLayout from "../../layouts/CalculatorLayout.astro";
import { KubernetesNodeCostCalculator } from "../../components/calculators/KubernetesNodeCost";
import { KubernetesRequestsLimitsCalculator } from "../../components/calculators/KubernetesRequestsLimits";

const title = "EKS Cost Calculator";
const description =
  "Estimate EKS-style Kubernetes costs by sizing nodes from pod requests, checking pod limits, and applying per-node pricing. Educational use only.";
---
<CalculatorLayout
  title={title}
  description={description}
  canonicalPath="/calculators/eks-cost-calculator"
  intro="EKS costs are usually driven by node compute. This EKS cost calculator helps you size nodes from pod requests (including max pods per node) and then estimate monthly cost using a per-node $/hour assumption. Compare baseline vs peak and add control plane, storage, and observability as separate line items."
  examples={[
    "Use representative pod requests to estimate node count, then multiply by blended $/hour and uptime.",
    "Compare baseline vs peak to see how autoscaling changes node count and cost.",
  ]}
  includes={[
    "Requests/limits sizing into cluster totals and node estimate (including max pods per node).",
    "Baseline vs peak sizing summary and bottleneck highlight.",
    "Node cost estimate from node count, $/hour, and expected uptime.",
  ]}
  excludes={[
    "Control plane fees, load balancers, storage, logs/metrics, and data egress (add separately).",
    "Scheduling constraints (affinities, taints, topology spread) and daemonset overhead that can increase node count.",
  ]}
  how={[
    "Step 1: Convert per-pod requests into totals and an estimated node count with pod limits.",
    "Step 2: Estimate monthly node cost from node count and $/hour pricing.",
    "Step 3: Compare baseline vs peak scenarios and then add separate line items for control plane, storage, observability, and egress."
  ]}
  faqs={[
    {
      q: "Do managed control plane fees matter?",
      a: "Often yes. Many managed Kubernetes offerings charge a fixed hourly control plane fee. Add it separately.",
    },
    {
      q: "Should I size by requests or limits?",
      a: "Scheduling uses requests. Limits are a safety ceiling and can be much higher than requests.",
    },
    {
      q: "Why does max pods per node matter?",
      a: "EKS nodes also enforce a pod cap (often 110). That limit can force more nodes even if CPU/memory fits.",
    },
  ]}
  lastUpdated="2026-01-27"
  related={[
    { href: "/calculators/kubernetes-cost-calculator", label: "Kubernetes cost calculator (generic)" },
    { href: "/guides/aws-eks-pricing", label: "Guide: EKS pricing" },
    { href: "/guides/kubernetes-cost-model-beyond-nodes", label: "K8s cost model checklist" },
    { href: "/calculators/log-cost-calculator", label: "Log cost calculator" },
    { href: "/calculators/metrics-timeseries-cost-calculator", label: "Metrics cost calculator" },
  ]}
>
  <div class="prose">
    <h2 style="margin-top:0">1) Size nodes from requests</h2>
    <p class="muted" style="margin-top:8px">
      Use representative requests (not peak limits). Choose an allocatable % to reserve capacity for kube-system and
      headroom.
    </p>
    <p class="muted" style="margin-top:8px">
      Include max pods per node if your CNI enforces pod caps, and compare baseline vs peak to avoid surprises.
    </p>
  </div>
  <KubernetesRequestsLimitsCalculator client:load />

  <div class="prose" style="margin-top:18px">
    <h2>2) Apply pricing</h2>
    <p class="muted" style="margin-top:8px">
      Multiply estimated node count by $/hour and uptime. Use a blended rate if you mix on-demand, commitments, or spot.
    </p>
  </div>
  <KubernetesNodeCostCalculator client:load />
  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">How to get your inputs</h2>
    <ul>
      <li><strong>Inputs</strong>: use billing exports, metrics, or logs to get real counts/GB where possible.</li>
      <li><strong>Units</strong>: convert throughput (Mbps) or rates (RPS) into monthly units when needed.</li>
      <li><strong>Scenarios</strong>: build a baseline and a high-usage scenario to avoid under-budgeting.</li>
    </ul>

    <h2>Common mistakes</h2>
    <ul>
      <li>Using a single average and ignoring peak/incident scenarios.</li>
      <li>Double-counting or missing adjacent line items (transfer, logs, retries).</li>
    </ul>

    <h2>Validate after changes</h2>
    <ul>
      <li>Compare your estimate to the first real bill and adjust assumptions.</li>
      <li>Track the primary driver metric (requests/GB/count) over time.</li>
    </ul>

    <h2>Next steps</h2>
    <div class="btn-row" style="margin-top:0">
      <a class="btn" href="/guides/">Guides</a>
      <a class="btn" href="/calculators/">All calculators</a>
      <a class="btn" href="/calculators/kubernetes-cost-calculator/">Kubernetes cost calculator (generic)</a>
      <a class="btn" href="/guides/aws-eks-pricing/">Guide: EKS pricing</a>
      <a class="btn" href="/guides/kubernetes-cost-model-beyond-nodes/">K8s cost model checklist</a>
      <a class="btn" href="/calculators/log-cost-calculator/">Log cost calculator</a>
    </div>
  </div>
</CalculatorLayout>
