---
import CalculatorLayout from "../../layouts/CalculatorLayout.astro";
import { LogStorageTieredCostCalculator } from "../../components/calculators/LogStorageTiered";

const title = "Tiered Log Storage Cost Calculator (Hot + Archive)";
const description =
  "Estimate tiered log storage costs with a hot window plus an optional cold/archive tier. Educational use only.";
---
<CalculatorLayout
  title={title}
  description={description}
  canonicalPath="/calculators/log-storage-cost-calculator"
  intro="Many teams keep a short hot window for fast search, then move older logs to a cheaper cold/archive tier. This calculator estimates steady-state storage cost for a 2-tier model (hot + optional cold), including archive fraction and a compression factor if your vendor bills on stored size. Compare baseline vs peak volume if your logs spike."
  examples={[
    "Hot: 14 days at $0.03/GB-month + Cold: 90 additional days at $0.01/GB-month (archive 100%).",
    "Archive only audit logs (e.g., 20% of volume) instead of archiving everything.",
  ]}
  includes={[
    "Hot retention storage cost (GB/day x hot days x $/GB-month).",
    "Optional cold/archive storage cost for additional days.",
    "Optional archive fraction and compression ratio.",
    "Baseline vs peak comparison for volume spikes.",
  ]}
  excludes={[
    "Ingestion charges (use Log Ingestion calculator).",
    "Scan/search charges (use Log Search Scan calculator).",
    "Provider-specific minimums and retrieval charges for cold tiers.",
  ]}
  how={[
    "Hot stored GB = GB/day x hot retention days.",
    "Cold stored GB = GB/day x archive fraction x cold days x compression ratio.",
    "Monthly storage cost = (hot stored GB x hot $/GB-month) + (cold stored GB x cold $/GB-month).",
    "Use a peak scenario when incident logging increases volume.",
  ]}
  faqs={[
    {
      q: "What does 'cold additional days' mean?",
      a: "Cold retention is modeled as extra days beyond the hot window (e.g., 14 hot + 90 cold = 104 total days retained).",
    },
    {
      q: "What is archive fraction?",
      a: "Some teams archive only specific classes of logs (audit/security) instead of everything. Use a fraction to model that subset.",
    },
    {
      q: "What is compression ratio?",
      a: "If your vendor bills cold storage on compressed stored size, set a ratio under 1. If billing is based on ingested size, use 1.",
    },
  ]}
  lastUpdated="2026-01-27"
  related={[
    { href: "/calculators/log-retention-storage-cost-calculator", label: "Single-tier retention storage" },
    { href: "/calculators/log-ingestion-cost-calculator", label: "Log ingestion cost" },
    { href: "/calculators/log-search-scan-cost-calculator", label: "Log scan/search cost" },
    { href: "/calculators/log-cost-calculator", label: "Log cost (all line items)" },
    { href: "/guides/log-retention-storage-cost", label: "Guide: retention storage cost" },
  ]}
>
  <LogStorageTieredCostCalculator client:load />

  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">How to use this in a real estimate</h2>
    <ul>
      <li>Split logs into classes (access/app/audit) and decide what you actually need to retain long-term.</li>
      <li>Keep a small hot window for troubleshooting and dashboards; archive only what you must.</li>
      <li>Validate what the vendor bills for cold tiers (stored bytes vs ingested bytes, plus retrieval charges).</li>
    </ul>
  </div>

  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">Result interpretation</h2>
    <ul>
      <li>If cold storage dominates, review archive fraction and compression assumptions.</li>
      <li>If hot storage dominates, shorten hot window or reduce ingestion volume.</li>
    </ul>
  </div>

  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">Scenario planning</h2>
    <table>
      <thead>
        <tr>
          <th>Scenario</th>
          <th>GB/day</th>
          <th>Hot days</th>
          <th>Cold days</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Baseline</td>
          <td>Expected</td>
          <td>Current policy</td>
          <td>Current archive</td>
        </tr>
        <tr>
          <td>Peak</td>
          <td>High</td>
          <td>Same policy</td>
          <td>Same archive</td>
        </tr>
      </tbody>
    </table>
  </div>
</CalculatorLayout>
