---
import CalculatorLayout from "../../layouts/CalculatorLayout.astro";
import { AwsApiGatewayAccessLogCostCalculator as AwsApiGatewayAccessLogCostCalculatorComponent } from "../../components/calculators/AwsApiGatewayAccessLogCost";

const title = "API Gateway Access Log Cost Calculator (CloudWatch Logs)";
const description =
  "Estimate API Gateway access log ingestion and retention cost from request volume and average log size, with baseline vs peak scenarios. Educational use only.";
---
<CalculatorLayout
  title={title}
  description={description}
  canonicalPath="/calculators/aws-api-gateway-access-log-cost-calculator"
  intro="Estimate API Gateway access log cost by converting requests/month x bytes/log into GB/day, then pricing ingestion and retention. Compare baseline vs peak volume."
  examples={[
    "50M requests/month with 1.5 KB average access log line -> estimate GB/day and monthly ingestion + retention cost.",
    "Peak 220% scenario captures launch or incident spikes in request volume."
  ]}
  includes={[
    "Estimated ingestion volume (GB/day) from request volume and average log bytes.",
    "Ingestion and retention storage cost estimate from your pricing inputs.",
    "Baseline vs peak scenario table for request spikes.",
  ]}
  excludes={[
    "API Gateway request pricing and response transfer pricing.",
    "Logs Insights query scan/search costs (model separately if needed).",
  ]}
  how={[
    "GB/day ~ (requests/month / 30.4) x bytes/log / 1e9.",
    "Monthly ingestion cost ~ (GB/day x 30.4) x $/GB.",
    "Retention storage cost uses a steady-state GB-month model for the retention window.",
  ]}
  faqs={[
    {
      q: "How do I estimate average log bytes per request?",
      a: "Sample your access log output (100-1,000 lines) and compute average bytes per line. Log format fields and headers can change size materially.",
    },
    {
      q: "Does this include API Gateway request charges?",
      a: "No. Use an API Gateway cost calculator for request and transfer charges. This focuses only on access logs stored in a logging system.",
    },
    {
      q: "What levers reduce access log cost?",
      a: "Reduce log verbosity/fields, sample logs for high-volume endpoints, and shorten retention for noisy logs.",
    },
  ]}
  lastUpdated="2026-01-28"
  related={[
    { href: "/guides/aws-api-gateway-access-logs-cost", label: "Guide: API Gateway access logs cost" },
    { href: "/calculators/aws-api-gateway-cost-calculator", label: "API Gateway cost calculator" },
    { href: "/calculators/log-ingestion-cost-calculator", label: "Log ingestion cost (generic)" },
    { href: "/guides/log-costs", label: "Guide: log costs" },
  ]}
>
  <AwsApiGatewayAccessLogCostCalculatorComponent client:load />

  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">How to estimate bytes per log line (quick, reliable)</h2>
    <ol class="muted" style="margin:10px 0 0; padding-left:18px">
      <li>Export 100-1,000 log lines from a representative day.</li>
      <li>Compute average bytes/line (and p95 if you want a peak scenario).</li>
      <li>
        Re-check after changing log format: adding headers, user agents, and long paths can materially increase bytes per
        request.
      </li>
    </ol>
  </div>

  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">High-leverage fixes for access log costs</h2>
    <ul class="muted" style="margin:10px 0 0; padding-left:18px">
      <li>Log only the fields you use (drop large headers and rarely-used fields).</li>
      <li>Sample noisy endpoints (health checks, bots) instead of logging every request.</li>
      <li>Shorten retention for high-volume access logs and archive cold data if required.</li>
    </ul>
  </div>
  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">How to get your inputs</h2>
    <ul>
      <li><strong>Volume</strong>: start from measured ingestion (GB/day) if you have it, then convert to monthly/retention where needed.</li>
      <li><strong>Retention</strong>: decide retention days and model steady-state GB-month.</li>
      <li><strong>Queries</strong>: model scan/query volume if your tool bills by GB scanned.</li>
    </ul>

    <h2>Common mistakes</h2>
    <ul>
      <li>Modeling ingestion but forgetting retention (GB-month) and scan/query costs.</li>
      <li>Keeping noisy logs forever instead of setting explicit retention tiers.</li>
    </ul>

    <h2>Validate after changes</h2>
    <ul>
      <li>Check ingestion GB/day and retention GB-month after changes.</li>
      <li>Check query scan GB and dashboard refresh frequency (common hidden driver).</li>
    </ul>

    <h2>Next steps</h2>
    <div class="btn-row" style="margin-top:0">
      <a class="btn" href="/guides/">Guides</a>
      <a class="btn" href="/calculators/">All calculators</a>
      <a class="btn" href="/guides/aws-api-gateway-access-logs-cost/">Guide: API Gateway access logs cost</a>
      <a class="btn" href="/calculators/aws-api-gateway-cost-calculator/">API Gateway cost calculator</a>
      <a class="btn" href="/calculators/log-ingestion-cost-calculator/">Log ingestion cost (generic)</a>
      <a class="btn" href="/guides/log-costs/">Guide: log costs</a>
    </div>
  </div>
</CalculatorLayout>

