---
import CalculatorLayout from "../../layouts/CalculatorLayout.astro";
import { AwsSnsCostCalculator as AwsSnsCostCalculatorComponent } from "../../components/calculators/AwsSnsCost";

const title = "AWS SNS Cost Calculator";
const description =
  "Estimate SNS-style cost from publish volume, delivery volume, and optional payload transfer assumptions, with baseline vs peak scenarios. Educational use only.";
---
<CalculatorLayout
  title={title}
  description={description}
  canonicalPath="/calculators/aws-sns-cost-calculator"
  intro="Estimate SNS-style cost with a simple model: publish request charges + delivery request charges + optional payload transfer. Compare baseline vs peak traffic with your pricing."
  examples={[
    "200M publishes/month and 800M deliveries/month with small payloads and your effective $ per 1M pricing inputs.",
    "Peak 250% scenario highlights incident-driven fan-out spikes."
  ]}
  includes={[
    "Publish cost from publishes/month and $ per 1M publishes.",
    "Delivery cost from deliveries/month and $ per 1M deliveries (protocol mix).",
    "Optional transfer estimate from deliveries x average payload size (KB) and $/GB.",
    "Delivery volume estimator for fan-out and retry scenarios.",
    "Baseline vs peak scenario table for delivery spikes.",
  ]}
  excludes={[
    "Downstream costs (Lambda, SQS, HTTP endpoints, retries) unless modeled separately.",
    "Per-protocol pricing nuances; use your effective blended rates.",
  ]}
  how={[
    "Publish cost = (publishes per month / 1,000,000) x $ per 1M publishes.",
    "Delivery cost = (deliveries per month / 1,000,000) x $ per 1M deliveries.",
    "Transfer GB/month ~= deliveries per month x avg payload KB / 1024 / 1024.",
    "Transfer cost = transfer GB/month x $ per GB.",
    "Total = publish + delivery + transfer.",
  ]}
  faqs={[
    {
      q: "What counts as a delivery?",
      a: "A delivery is typically one message sent to one subscription endpoint. If a topic has N subscribers, one published message can create up to N deliveries (after filtering).",
    },
    {
      q: "Why can SNS costs spike during incidents?",
      a: "Incidents can increase publish volume (alerts) and delivery retries. High fan-out topics can multiply deliveries quickly.",
    },
    {
      q: "Should I include payload transfer?",
      a: "If you deliver to internet endpoints or across billable network paths, transfer can matter. If your traffic path has negligible transfer charges, set $/GB to 0 for a request-only estimate.",
    },
  ]}
  lastUpdated="2026-01-29"
  related={[
    { href: "/guides/aws-sns-pricing", label: "Guide: SNS pricing" },
    { href: "/guides/aws-sns-estimate-deliveries", label: "Guide: estimate SNS deliveries" },
    { href: "/guides/aws-sns-cost-optimization", label: "Guide: reduce SNS costs" },
    { href: "/calculators/aws-sns-delivery-estimator", label: "SNS delivery volume estimator" },
    { href: "/calculators/aws-sqs-cost-calculator", label: "SQS cost calculator" },
  ]}
>
  <AwsSnsCostCalculatorComponent client:load />
  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">How to get your inputs</h2>
    <ul>
      <li><strong>Inputs</strong>: use billing exports, metrics, or logs to get real counts/GB where possible.</li>
      <li><strong>Units</strong>: convert throughput (Mbps) or rates (RPS) into monthly units when needed.</li>
      <li><strong>Scenarios</strong>: build a baseline and a high-usage scenario to avoid under-budgeting.</li>
    </ul>

    <h2>Result interpretation</h2>
    <ul>
      <li>Deliveries usually dominate; fan-out multiplies request cost quickly.</li>
      <li>Payload size only matters when transfer is billable; set $/GB to zero if not.</li>
    </ul>

    <h2>Common mistakes</h2>
    <ul>
      <li>Using a single average and ignoring peak/incident scenarios.</li>
      <li>Double-counting or missing adjacent line items (transfer, logs, retries).</li>
    </ul>

    <h2>Input checklist</h2>
    <ul>
      <li>Count subscriptions per topic to estimate deliveries per publish.</li>
      <li>Separate protocol mix (SQS, HTTP, email) if pricing differs.</li>
      <li>Estimate payload size for the largest topics.</li>
    </ul>

    <h2>Scenario planning</h2>
    <table>
      <thead>
        <tr>
          <th>Scenario</th>
          <th>Publishes</th>
          <th>Deliveries</th>
          <th>Payload</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Baseline</td>
          <td>Expected</td>
          <td>Expected</td>
          <td>Typical</td>
        </tr>
        <tr>
          <td>Peak</td>
          <td>High</td>
          <td>Burst</td>
          <td>Same</td>
        </tr>
      </tbody>
    </table>

    <h2>Validate after changes</h2>
    <ul>
      <li>Compare your estimate to the first real bill and adjust assumptions.</li>
      <li>Track the primary driver metric (requests/GB/count) over time.</li>
    </ul>

    <h2>Next steps</h2>
    <div class="btn-row" style="margin-top:0">
      <a class="btn" href="/guides/">Guides</a>
      <a class="btn" href="/calculators/">All calculators</a>
      <a class="btn" href="/calculators/aws-sns-delivery-estimator/">SNS delivery estimator</a>
      <a class="btn" href="/guides/aws-sns-pricing/">Guide: SNS pricing</a>
      <a class="btn" href="/guides/aws-sns-estimate-deliveries/">Guide: estimate SNS deliveries</a>
      <a class="btn" href="/guides/aws-sns-cost-optimization/">Guide: reduce SNS costs</a>
      <a class="btn" href="/calculators/aws-sqs-cost-calculator/">SQS cost calculator</a>
    </div>
  </div>
</CalculatorLayout>
