---
import CalculatorLayout from "../../layouts/CalculatorLayout.astro";
import { LogRetentionStorageCostCalculator as LogRetentionStorageCostCalculatorComponent } from "../../components/calculators/LogRetentionStorage";

const title = "Log Retention Storage Cost Calculator";
const description =
  "Estimate retained log storage cost from GB/day, retention days, and $/GB-month pricing (steady-state). Educational use only.";
---
<CalculatorLayout
  title={title}
  description={description}
  canonicalPath="/calculators/log-retention-storage-cost-calculator"
  intro="Retention turns a daily log stream into a steady-state stored dataset. This calculator estimates retained GB and monthly storage cost using a simple model: retained GB = GB/day x retention days. Compare baseline vs peak when volume spikes."
  examples={[
    "50 GB/day with 30-day retention = ~1,500 GB retained steady-state (before vendor-specific compression rules).",
    "If you retain 90-365 days, storage often becomes the dominant log line item.",
  ]}
  includes={[
    "Steady-state retained volume estimate (GB/day x retention days).",
    "Monthly storage estimate from retained GB and $/GB-month.",
    "Optional event-rate estimator for GB/day.",
    "Baseline vs peak storage comparison for volume spikes.",
  ]}
  excludes={[
    "Ingestion charges (use Log Ingestion calculator).",
    "Scan/search charges (use Log Search Scan calculator).",
    "Tiered hot/cold storage modeling (use Tiered Log Storage calculator).",
  ]}
  how={[
    "Retained volume (steady state) = GB/day x retention days.",
    "Monthly storage cost = retained GB x $/GB-month.",
    "Use peak multiplier when incident logging increases volume.",
    "If retention differs by log type, model each log type separately and sum.",
  ]}
  faqs={[
    {
      q: "When does steady-state not apply?",
      a: "During ramp-up (before you've logged for retention days) and when ingestion is highly seasonal. In those cases, model separate months/scenarios.",
    },
    {
      q: "How should I choose retention?",
      a: "Keep a small hot window for troubleshooting (days to weeks), and keep long retention only for high-value audit/security logs.",
    },
    {
      q: "What if my provider has multiple tables with different retention?",
      a: "Treat each table/source as its own stream (GB/day + retention days), then add the results.",
    },
  ]}
  lastUpdated="2026-01-29"
  related={[
    { href: "/calculators/log-ingestion-cost-calculator", label: "Log ingestion cost" },
    { href: "/calculators/log-storage-cost-calculator", label: "Tiered log storage (hot + archive)" },
    { href: "/calculators/log-search-scan-cost-calculator", label: "Log scan/search cost" },
    { href: "/guides/log-retention-storage-cost", label: "Guide: retention storage cost" },
    { href: "/guides/log-costs", label: "Guide: log costs" },
  ]}
>
  <LogRetentionStorageCostCalculatorComponent client:load />

  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">A practical retention policy (by log class)</h2>
    <ul class="muted" style="margin:10px 0 0; padding-left:18px">
      <li>
        <strong>Access/ingress logs</strong>: 7-14 days hot retention (high volume, mostly operational value).
      </li>
      <li>
        <strong>Application logs</strong>: 14-30 days (enough for incident timelines).
      </li>
      <li>
        <strong>Audit/security logs</strong>: 90-365 days (compliance-driven; keep volume controlled).
      </li>
    </ul>
    <p class="muted" style="margin-top:10px">
      If you need long-term retention, consider moving cold logs to cheaper storage and keeping only a small hot window
      indexed/searchable.
    </p>
  </div>

  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">How to get your inputs</h2>
    <ul>
      <li><strong>GB/day</strong>: use ingestion metrics per log source; avoid blended averages.</li>
      <li><strong>Retention days</strong>: confirm settings per log group or table; defaults often drift.</li>
      <li><strong>Stored GB billing</strong>: check whether your vendor bills on ingested or stored size.</li>
      <li><strong>Seasonality</strong>: if volume changes by week or month, model separate scenarios.</li>
    </ul>
  </div>

  <div class="prose" style="margin-top:18px">
    <h2 style="margin-top:0">Result interpretation</h2>
    <ul>
      <li>Retention days multiply GB/day; storage grows linearly with retention.</li>
      <li>High-volume sources should have shorter hot retention.</li>
    </ul>

    <h2>Common mistakes</h2>
    <ul>
      <li>Using blended GB/day and missing the top noisy sources.</li>
      <li>Applying a single retention policy to all log types.</li>
      <li>Assuming stored GB equals ingested GB (compression varies).</li>
    </ul>

    <h2>Scenario planning</h2>
    <table>
      <thead>
        <tr>
          <th>Scenario</th>
          <th>GB/day</th>
          <th>Retention</th>
          <th>Drivers</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Baseline</td>
          <td>Expected</td>
          <td>30 days</td>
          <td>Normal logging</td>
        </tr>
        <tr>
          <td>Peak</td>
          <td>High</td>
          <td>Same</td>
          <td>Incident/verbose</td>
        </tr>
      </tbody>
    </table>

    <h2 style="margin-top:0">Validate after changes</h2>
    <ul>
      <li>Validate measured ingestion (GB/day) for your top sources, not a blended average.</li>
      <li>Validate retention settings per table/source (defaults often drift).</li>
      <li>Validate what the vendor bills as stored GB (compressed size vs ingested size differs by provider).</li>
    </ul>
  </div>
</CalculatorLayout>
